/**
 * Israeli-Specific Financial Tips and Insights
 * Contextual financial advice tailored for Israeli users
 */

// Israeli financial tips by category
export const ISRAELI_FINANCIAL_TIPS = {
    // Tax-related tips
    taxes: [
        {
            title: '× ×™×¦×•×œ ×–×™×›×•×™×™ ×ž×¡',
            tip: '×•×•×“××• ×©××ª× ×ž× ×¦×œ×™× ××ª ×›×œ ×–×™×›×•×™×™ ×”×ž×¡ ×”×ž×’×™×¢×™× ×œ×›× - ×–×™×›×•×™ ×¢×œ ×™×œ×“×™×, × ×™×©×•××™×Ÿ, ×•×œ×™×ž×•×“×™×',
            category: '×ž×¡×™×',
            priority: 'high',
            savings: '×¢×“ â‚ª2,320 ×œ×—×•×“×©'
        },
        {
            title: '×“×™×•×•×— ×©× ×ª×™ ×ž×“×•×™×§',
            tip: '×©×ž×¨×• ×§×‘×œ×•×ª ×•×”×•×›×—×•×ª ×”×•×¦××” ×œ×“×™×•×•×— ×”×©× ×ª×™ - ×™×›×•×œ ×œ×—×¡×•×š ××œ×¤×™ ×©×§×œ×™× ×‘×ž×¡',
            category: '×ž×¡×™×',
            priority: 'medium',
            savings: '×¢×“ â‚ª5,000 ×œ×©× ×”'
        },
        {
            title: '×©× ×ª ×”×ž×¡ ×”×™×©×¨××œ×™×ª',
            tip: '×–×›×¨×• ×©×”×©× ×” ×”×ž×¡ ×‘×™×©×¨××œ ×”×™× ×ž-1 ×‘××¤×¨×™×œ ×¢×“ 31 ×‘×ž×¨×¥, ×ª×›× × ×• ×‘×”×ª××',
            category: '×ž×¡×™×',
            priority: 'medium',
            savings: '×ª×›× ×•×Ÿ ×˜×•×‘'
        }
    ],

    // Banking tips
    banking: [
        {
            title: '×”×©×•×•××ª ×¢×ž×œ×•×ª ×‘× ×§××™×•×ª',
            tip: '×”×©×•×• ×¢×ž×œ×•×ª ×‘×™×Ÿ ×”×‘× ×§×™× ×”×©×•× ×™× - ×”×¤×¨×© ×©×œ ×ž××•×ª ×©×§×œ×™× ×œ×©× ×” ××¤×©×¨×™',
            category: '×‘× ×§××•×ª',
            priority: 'high',
            savings: '×¢×“ â‚ª1,200 ×œ×©× ×”'
        },
        {
            title: '×—×©×‘×•×Ÿ ×“×™×’×™×˜×œ×™',
            tip: '×¢×‘×¨×• ×œ×‘× ×§××•×ª ×“×™×’×™×˜×œ×™×ª ×œ×—×™×¡×›×•×Ÿ ×‘×¢×ž×œ×•×ª ×•× ×•×—×•×ª ×‘× ×™×”×•×œ',
            category: '×‘× ×§××•×ª',
            priority: 'medium',
            savings: '×¢×“ â‚ª500 ×œ×©× ×”'
        },
        {
            title: '×ž×™× ×•×¡ ×ž××•×©×¨',
            tip: '×¡×“×¨×• ×ž×™× ×•×¡ ×ž××•×©×¨ ×ž×¨××© ×‘×ž×§×•× ×œ×”×™×›× ×¡ ×œ×ž×™× ×•×¡ ×œ× ×ž××•×©×¨ ×¢× ×¢×ž×œ×•×ª ×’×‘×•×”×•×ª',
            category: '×‘× ×§××•×ª',
            priority: 'high',
            savings: '×¢×“ â‚ª2,000 ×œ×©× ×”'
        }
    ],

    // Housing tips specific to Israel
    housing: [
        {
            title: '××¨× ×•× ×” - ×–×›×•×™×•×ª ×”× ×—×”',
            tip: '×‘×“×§×• ×–×›××•×ª ×œ×”× ×—×•×ª ××¨× ×•× ×” - ×ž×©×¤×—×•×ª ×¢× ×™×œ×“×™×, ×§×©×™×©×™×, ×•×× ×©×™× ×¢× ×ž×•×’×‘×œ×•×ª ×–×›××™× ×œ×”× ×—×•×ª',
            category: '×“×™×•×¨',
            priority: 'high',
            savings: '×¢×“ â‚ª3,000 ×œ×©× ×”'
        },
        {
            title: '×ž×©×›× ×ª× - ×ž×—×–×•×¨',
            tip: '×‘×“×§×• ××¤×©×¨×•×ª ×œ×ž×—×–×•×¨ ×ž×©×›× ×ª× ×× ×”×¨×™×‘×™×ª ×™×¨×“×” ×ž×©×ž×¢×•×ª×™×ª ×ž××– × ×˜×™×œ×ª ×”×”×œ×•×•××”',
            category: '×“×™×•×¨',
            priority: 'high',
            savings: '×¢×“ â‚ª50,000 ×œ×©× ×”'
        },
        {
            title: '×—×™×¡×›×•×Ÿ ×‘×—×©×ž×œ',
            tip: '×”×©×ª×ž×©×• ×‘×ž×›×©×™×¨×™ ×—×©×ž×œ ×—×¡×›×•× ×™×™× ×•×–×ž× ×™ ×—×©×ž×œ ×–×•×œ - ×”×¤×¨×© ×ž×©×ž×¢×•×ª×™ ×‘×—×©×‘×•×Ÿ ×”×—×©×ž×œ',
            category: '×“×™×•×¨',
            priority: 'medium',
            savings: '×¢×“ â‚ª1,500 ×œ×©× ×”'
        }
    ],

    // Investment tips for Israeli market
    investment: [
        {
            title: '×¤× ×¡×™×” ×•×§×•×¤×•×ª ×’×ž×œ',
            tip: '×”×©×ª×ª×¤×• ×‘×§×•×¤×ª ×’×ž×œ ×•×¤× ×¡×™×” - ×–×™×›×•×™ ×ž×¡ ×ž×™×™×“×™ ×•×‘× ×™×™×ª ×¢×ª×™×“ ×¤×™× × ×¡×™',
            category: '×”×©×§×¢×•×ª',
            priority: 'high',
            savings: '×–×™×›×•×™ ×ž×¡ + ×¢×ª×™×“'
        },
        {
            title: '×§×¨×Ÿ ×—×™×¨×•×',
            tip: '×¦×‘×¨×• ×§×¨×Ÿ ×—×™×¨×•× ×©×œ 6-12 ×ž×©×›×•×¨×•×ª ×—×•×“×©×™×•×ª ×œ×‘×™×˜×—×•×Ÿ ×¤×™× × ×¡×™',
            category: '×”×©×§×¢×•×ª',
            priority: 'high',
            savings: '×‘×™×˜×—×•×Ÿ ×¤×™× × ×¡×™'
        },
        {
            title: '×”×©×§×¢×” ×”×“×¨×’×ª×™×ª',
            tip: '×”×©×§×™×¢×• ×¡×›×•×ž×™× ×§×‘×•×¢×™× ×ž×“×™ ×—×•×“×© ×‘×ž×§×•× ×¡×›×•× ×’×“×•×œ ×‘×‘×ª ××—×ª',
            category: '×”×©×§×¢×•×ª',
            priority: 'medium',
            savings: '×ž×™×¦×•×¢ ×¢×œ×•×™×•×ª'
        }
    ],

    // Shopping and daily expenses
    shopping: [
        {
            title: '×”×©×•×•××ª ×ž×—×™×¨×™×',
            tip: '×”×©×ª×ž×©×• ×‘××¤×œ×™×§×¦×™×•×ª ×”×©×•×•××ª ×ž×—×™×¨×™× ×œ×¤× ×™ ×§× ×™×•×ª ×’×“×•×œ×•×ª - ×—×™×¡×›×•×Ÿ ×ž×©×ž×¢×•×ª×™ ××¤×©×¨×™',
            category: '×§× ×™×•×ª',
            priority: 'medium',
            savings: '×¢×“ â‚ª2,000 ×œ×©× ×”'
        },
        {
            title: '×§× ×™×•×ª ×‘×›×ž×•×™×•×ª',
            tip: '×§× ×• ×ž×•×¦×¨×™ ×™×¡×•×“ ×‘×›×ž×•×™×•×ª ×’×“×•×œ×•×ª ×ž×ž×•×¢×“×•× ×™ ×§× ×™×•×ª - ×—×™×¡×›×•×Ÿ ×œ×ž×©×¤×—×•×ª',
            category: '×§× ×™×•×ª',
            priority: 'medium',
            savings: '×¢×“ â‚ª3,000 ×œ×©× ×”'
        },
        {
            title: '×ª×›× ×•×Ÿ ×¨×©×™×ž×ª ×§× ×™×•×ª',
            tip: '×ª×›× × ×• ×¨×©×™×ž×ª ×§× ×™×•×ª ×ž×¨××© ×•×“×‘×§×• ×‘×” ×œ×ž× ×™×¢×ª ×§× ×™×•×ª ×ž×™×•×ª×¨×•×ª',
            category: '×§× ×™×•×ª',
            priority: 'medium',
            savings: '×¢×“ â‚ª1,500 ×œ×©× ×”'
        }
    ],

    // Transportation tips
    transportation: [
        {
            title: '×ª×—×‘×•×¨×” ×¦×™×‘×•×¨×™×ª',
            tip: '×”×©×ª×ž×©×• ×‘×ª×—×‘×•×¨×” ×¦×™×‘×•×¨×™×ª ×‘×ž×§×•× ×¨×›×‘ ×¤×¨×˜×™ - ×—×™×¡×›×•×Ÿ ×ž×©×ž×¢×•×ª×™ ×‘×“×œ×§ ×•×—× ×™×”',
            category: '×ª×—×‘×•×¨×”',
            priority: 'medium',
            savings: '×¢×“ â‚ª10,000 ×œ×©× ×”'
        },
        {
            title: '×‘×™×˜×•×— ×¨×›×‘ ×ž×§×™×£',
            tip: '×”×©×•×• ×ž×—×™×¨×™ ×‘×™×˜×•×— ×¨×›×‘ ×‘×™×Ÿ ×—×‘×¨×•×ª ×©×•× ×•×ª - ×”×¤×¨×© ×©×œ ×ž××•×ª ×©×§×œ×™× ××¤×©×¨×™',
            category: '×ª×—×‘×•×¨×”',
            priority: 'high',
            savings: '×¢×“ â‚ª2,000 ×œ×©× ×”'
        }
    ]
};

// Monthly Israeli financial insights
export const MONTHLY_INSIGHTS = {
    january: {
        title: '×™× ×•××¨ - ×ª×›× ×•×Ÿ ×”×©× ×” ×”×—×“×©×”',
        insights: [
            '×–×ž×Ÿ ×ž×¦×•×™×Ÿ ×œ×”×’×“×™×¨ ×™×¢×“×™× ×¤×™× × ×¡×™×™× ×œ×©× ×” ×”×—×“×©×”',
            '×‘×“×§×• ×× ×™×© ×¢×“×›×•× ×™× ×‘×©×™×¢×•×¨×™ ×”×ž×¡ ×•×–×™×›×•×™×™×',
            '×ª×›× × ×• ××ª ×ª×§×¦×™×‘ ×”×—×•×¤×©×•×ª ×œ×§×™×¥'
        ]
    },
    february: {
        title: '×¤×‘×¨×•××¨ - ×”×›× ×” ×œ×©× ×ª ×”×ž×¡',
        insights: [
            '×”×ª×—×™×œ×• ×œ××¡×•×£ ×ž×¡×ž×›×™× ×œ×“×™×•×•×— ×”×©× ×ª×™',
            '×‘×“×§×• ×–×›××•×ª ×œ×–×™×›×•×™×™ ×ž×¡ × ×•×¡×¤×™×',
            '×ª×›× × ×• ×”×©×§×¢×•×ª ×©×¢×œ×•×œ×•×ª ×œ×”×©×¤×™×¢ ×¢×œ ×”×ž×¡'
        ]
    },
    march: {
        title: '×ž×¨×¥ - ×¡×™×•× ×©× ×ª ×”×ž×¡',
        insights: [
            '×¡×™×•× ×©× ×ª ×”×ž×¡ ×”×™×©×¨××œ×™×ª - ×–×ž×Ÿ ××—×¨×•×Ÿ ×œ×–×™×›×•×™×™×',
            '×”×’×™×©×• ×“×™×•×•×— ×©× ×ª×™ ×× × ×“×¨×©',
            '×ª×›× × ×• ×œ×©× ×ª ×”×ž×¡ ×”×—×“×©×” ×©×ž×ª×—×™×œ×” ×‘××¤×¨×™×œ'
        ]
    },
    april: {
        title: '××¤×¨×™×œ - ×ª×—×™×œ×ª ×©× ×ª ×ž×¡ ×—×“×©×”',
        insights: [
            '×ª×—×™×œ×ª ×©× ×ª ×”×ž×¡ ×”×—×“×©×” - ×ª×›× × ×• ×‘×”×ª××',
            '×‘×“×§×• ×¢×“×›×•× ×™ ×©×™×¢×•×¨×™ ×ž×¡ ×•×–×™×›×•×™×™×',
            '×–×ž×Ÿ ×ž×¦×•×™×Ÿ ×œ×¡×§×™×¨×ª ×ª×™×§ ×”×”×©×§×¢×•×ª'
        ]
    }
};

// Seasonal financial tips
export const SEASONAL_TIPS = {
    holidays: [
        {
            title: '×—×’×™ ×ª×©×¨×™',
            tip: '×ª×›× × ×• ×ž×¨××© ×”×•×¦××•×ª ×”×—×’×™× - ×ž×–×•×Ÿ, ×‘×’×“×™×, ×ž×ª× ×•×ª. ×—×™×¡×›×•×Ÿ ×”×“×¨×’×ª×™ ×œ××•×¨×š ×”×©× ×”',
            savings: '×¢×“ â‚ª5,000 ×œ×—×’×™×'
        },
        {
            title: '×¤×¡×—',
            tip: '×”×ª×—×™×œ×• ×œ×—×¡×•×š ×œ×¤×¡×— ×›×‘×¨ ×ž×—×•×“×© ×™× ×•××¨ - ×”×•×¦××•×ª ×’×‘×•×”×•×ª ×¢×œ ×ž×–×•×Ÿ ×•× ×§×™×•×Ÿ',
            savings: '×¢×“ â‚ª3,000 ×œ×¤×¡×—'
        }
    ],
    summer: [
        {
            title: '×—×•×¤×© ×”×’×“×•×œ',
            tip: '×ª×›× × ×• ×ž×¨××© ×¤×¢×™×œ×•×™×•×ª ×œ×™×œ×“×™× ×‘×—×•×¤×© - ×ž×—× ×•×ª ×§×™×¥ ×™×›×•×œ×™× ×œ×”×™×•×ª ×™×§×¨×™×',
            savings: '×¢×“ â‚ª8,000 ×œ×§×™×¥'
        }
    ]
};

// Financial tips manager class
export class IsraeliFinancialTipsManager {
    constructor() {
        this.tips = ISRAELI_FINANCIAL_TIPS;
        this.monthlyInsights = MONTHLY_INSIGHTS;
        this.seasonalTips = SEASONAL_TIPS;
    }

    // Get tips by category
    getTipsByCategory(category) {
        return this.tips[category] || [];
    }

    // Get high priority tips
    getHighPriorityTips() {
        const highPriorityTips = [];
        Object.values(this.tips).forEach(categoryTips => {
            categoryTips.forEach(tip => {
                if (tip.priority === 'high') {
                    highPriorityTips.push(tip);
                }
            });
        });
        return highPriorityTips;
    }

    // Get monthly insights
    getMonthlyInsights(month = null) {
        if (!month) {
            month = new Date().toLocaleDateString('en-US', { month: 'long' }).toLowerCase();
        }
        
        const monthMapping = {
            'january': 'january',
            'february': 'february', 
            'march': 'march',
            'april': 'april'
        };
        
        return this.monthlyInsights[monthMapping[month]] || null;
    }

    // Get seasonal tips
    getSeasonalTips(season) {
        return this.seasonalTips[season] || [];
    }

    // Get personalized tips based on user data
    getPersonalizedTips(userData = {}) {
        const personalizedTips = [];
        const { hasChildren, hasProperty, monthlyIncome, age } = userData;

        // Tax tips for families
        if (hasChildren) {
            personalizedTips.push({
                title: '×–×™×›×•×™ ×¢×œ ×™×œ×“×™×',
                tip: '×•×•×“××• ×©××ª× ×ž×§×‘×œ×™× ×–×™×›×•×™ ×ž×¡ ×¢×œ ×›×œ ×”×™×œ×“×™× - ×–×” ×™×›×•×œ ×œ×”×™×•×ª ××œ×¤×™ ×©×§×œ×™× ×œ×©× ×”',
                category: '×ž×¡×™×',
                savings: `×¢×“ â‚ª${hasChildren * 2320 * 12} ×œ×©× ×”`
            });
        }

        // Property tips
        if (hasProperty) {
            personalizedTips.push(...this.getTipsByCategory('housing'));
        }

        // Age-based tips
        if (age && age > 45) {
            personalizedTips.push({
                title: '×ª×›× ×•×Ÿ ×¤×¨×™×©×”',
                tip: '×”×ª×—×™×œ×• ×œ×ª×›× ×Ÿ ×¤×¨×™×©×” - ×¤× ×¡×™×” ×ª×§×¦×™×‘×™×ª ×•×§×•×¤×•×ª ×’×ž×œ ×—×©×•×‘×•×ª ×™×•×ª×¨',
                category: '×”×©×§×¢×•×ª',
                priority: 'high'
            });
        }

        // Income-based tips
        if (monthlyIncome && monthlyIncome > 20000) {
            personalizedTips.push({
                title: '×ž×¡ ×¢×œ ×”×›× ×¡×” ×’×‘×•×”×”',
                tip: '×‘×“×§×• ××•×¤×¦×™×•×ª ×œ×”×¤×—×ª×ª ×ž×¡ - ×¤× ×¡×™×”, ×§×•×¤×ª ×’×ž×œ, ×”×©×§×¢×•×ª ×ž×•×¢×“×¤×•×ª',
                category: '×ž×¡×™×',
                priority: 'high'
            });
        }

        return personalizedTips;
    }

    // Get tip of the day
    getTipOfTheDay() {
        const allTips = [];
        Object.values(this.tips).forEach(categoryTips => {
            allTips.push(...categoryTips);
        });
        
        const today = new Date();
        const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / (1000 * 60 * 60 * 24));
        const tipIndex = dayOfYear % allTips.length;
        
        return allTips[tipIndex];
    }

    // Search tips by keyword
    searchTips(keyword) {
        const results = [];
        const searchTerm = keyword.toLowerCase();
        
        Object.values(this.tips).forEach(categoryTips => {
            categoryTips.forEach(tip => {
                if (tip.title.includes(keyword) || 
                    tip.tip.includes(keyword) || 
                    tip.category.includes(keyword)) {
                    results.push(tip);
                }
            });
        });
        
        return results;
    }

    // Get financial health score tips
    getFinancialHealthTips(score) {
        if (score >= 80) {
            return [
                {
                    title: '×ž×¦×‘ ×¤×™× × ×¡×™ ×ž×¦×•×™×Ÿ',
                    tip: '×”×ž×©×™×›×• ×›×š! ×”×ª×ž×§×“×• ×‘×”×©×§×¢×•×ª ××¨×•×›×•×ª ×˜×•×•×— ×•×ª×›× ×•×Ÿ ×¤×¨×™×©×”',
                    category: '×›×œ×œ×™'
                }
            ];
        } else if (score >= 60) {
            return [
                {
                    title: '×ž×¦×‘ ×¤×™× × ×¡×™ ×˜×•×‘',
                    tip: '×©×¤×¨×• ××ª ×§×¨×Ÿ ×”×—×™×¨×•× ×•×”×¤×—×™×ª×• ×—×•×‘×•×ª ×œ×”×’×¢×” ×œ×ž×¦×•×™× ×•×ª',
                    category: '×›×œ×œ×™'
                }
            ];
        } else {
            return [
                {
                    title: '×–×§×•×§ ×œ×©×™×¤×•×¨',
                    tip: '×”×ª×ž×§×“×• ×‘×”×¤×—×ª×ª ×—×•×‘×•×ª ×•×‘× ×™×™×ª ×§×¨×Ÿ ×—×™×¨×•× ×‘×¡×™×¡×™×ª',
                    category: '×›×œ×œ×™',
                    priority: 'high'
                }
            ];
        }
    }
}

// Create global instance
window.IsraeliFinancialTipsManager = IsraeliFinancialTipsManager;
window.financialTips = new IsraeliFinancialTipsManager();

// Global helper functions
window.getTipsByCategory = (category) => window.financialTips.getTipsByCategory(category);
window.getHighPriorityTips = () => window.financialTips.getHighPriorityTips();
window.getTipOfTheDay = () => window.financialTips.getTipOfTheDay();
window.getPersonalizedTips = (userData) => window.financialTips.getPersonalizedTips(userData);

console.log('ðŸ’¡ Israeli Financial Tips loaded successfully');

export default IsraeliFinancialTipsManager;