{"version":3,"file":"Modal-CiVLbcbL.js","sources":["../../src/components/Modal.js"],"sourcesContent":["// Modal Component - Hebrew-native with RTL support\nclass Modal {\n    constructor(options = {}) {\n        this.options = {\n            title: '',\n            content: '',\n            size: 'medium', // small, medium, large, full\n            closable: true,\n            backdrop: true, // Close on backdrop click\n            keyboard: true, // Close on ESC key\n            actions: [], // Array of action buttons\n            onOpen: null,\n            onClose: null,\n            ...options\n        };\n        this.isOpen = false;\n        this.element = null;\n    }\n\n    render() {\n        if (this.element) {\n            return this.element;\n        }\n\n        // Create modal overlay\n        const overlay = document.createElement('div');\n        overlay.className = 'modal-overlay';\n        overlay.style.display = 'none';\n\n        // Handle backdrop click\n        if (this.options.backdrop) {\n            overlay.addEventListener('click', (e) => {\n                if (e.target === overlay) {\n                    this.close();\n                }\n            });\n        }\n\n        // Create modal content\n        const content = document.createElement('div');\n        content.className = this.getContentClasses();\n\n        // Create header\n        if (this.options.title || this.options.closable) {\n            const header = this.createHeader();\n            content.appendChild(header);\n        }\n\n        // Create body\n        const body = this.createBody();\n        content.appendChild(body);\n\n        // Create footer with actions\n        if (this.options.actions && this.options.actions.length > 0) {\n            const footer = this.createFooter();\n            content.appendChild(footer);\n        }\n\n        overlay.appendChild(content);\n        this.element = overlay;\n\n        // Handle keyboard events\n        if (this.options.keyboard) {\n            document.addEventListener('keydown', this.handleKeydown.bind(this));\n        }\n\n        return overlay;\n    }\n\n    getContentClasses() {\n        const classes = ['modal-content'];\n        \n        if (this.options.size !== 'medium') {\n            classes.push(`modal-${this.options.size}`);\n        }\n        \n        return classes.join(' ');\n    }\n\n    createHeader() {\n        const header = document.createElement('div');\n        header.className = 'modal-header';\n\n        // Add title\n        if (this.options.title) {\n            const title = document.createElement('h3');\n            title.className = 'modal-title';\n            title.textContent = this.options.title;\n            header.appendChild(title);\n        }\n\n        // Add close button\n        if (this.options.closable) {\n            const closeBtn = document.createElement('button');\n            closeBtn.className = 'modal-close';\n            closeBtn.innerHTML = '×';\n            closeBtn.addEventListener('click', () => this.close());\n            header.appendChild(closeBtn);\n        }\n\n        return header;\n    }\n\n    createBody() {\n        const body = document.createElement('div');\n        body.className = 'modal-body';\n\n        if (typeof this.options.content === 'string') {\n            body.innerHTML = this.options.content;\n        } else if (this.options.content instanceof HTMLElement) {\n            body.appendChild(this.options.content);\n        }\n\n        return body;\n    }\n\n    createFooter() {\n        const footer = document.createElement('div');\n        footer.className = 'modal-footer';\n\n        this.options.actions.forEach(action => {\n            const button = this.createActionButton(action);\n            footer.appendChild(button);\n        });\n\n        return footer;\n    }\n\n    createActionButton(action) {\n        const button = document.createElement('button');\n        button.className = `btn btn-${action.type || 'secondary'}`;\n        button.textContent = action.text;\n\n        if (action.disabled) {\n            button.disabled = true;\n        }\n\n        button.addEventListener('click', () => {\n            if (action.handler) {\n                const result = action.handler(this);\n                // Close modal if handler returns true or undefined\n                if (result !== false) {\n                    this.close();\n                }\n            } else if (action.close !== false) {\n                this.close();\n            }\n        });\n\n        return button;\n    }\n\n    open() {\n        if (this.isOpen) return;\n\n        // Render modal if not already rendered\n        if (!this.element) {\n            this.render();\n            document.body.appendChild(this.element);\n        }\n\n        // Show modal\n        this.element.style.display = 'flex';\n        this.isOpen = true;\n\n        // Prevent body scroll\n        document.body.style.overflow = 'hidden';\n\n        // Call onOpen callback\n        if (this.options.onOpen) {\n            this.options.onOpen(this);\n        }\n\n        // Focus first focusable element\n        setTimeout(() => {\n            const focusable = this.element.querySelector('button, input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\n            if (focusable) {\n                focusable.focus();\n            }\n        }, 100);\n    }\n\n    close() {\n        if (!this.isOpen) return;\n\n        // Hide modal\n        this.element.style.display = 'none';\n        this.isOpen = false;\n\n        // Restore body scroll\n        document.body.style.overflow = '';\n\n        // Call onClose callback\n        if (this.options.onClose) {\n            this.options.onClose(this);\n        }\n    }\n\n    destroy() {\n        this.close();\n        if (this.element && this.element.parentNode) {\n            this.element.parentNode.removeChild(this.element);\n        }\n        this.element = null;\n    }\n\n    handleKeydown(event) {\n        if (event.key === 'Escape' && this.isOpen) {\n            this.close();\n        }\n    }\n\n    setContent(content) {\n        if (!this.element) return;\n        \n        const body = this.element.querySelector('.modal-body');\n        if (body) {\n            if (typeof content === 'string') {\n                body.innerHTML = content;\n            } else if (content instanceof HTMLElement) {\n                body.innerHTML = '';\n                body.appendChild(content);\n            }\n        }\n    }\n\n    setTitle(title) {\n        if (!this.element) return;\n        \n        const titleElement = this.element.querySelector('.modal-title');\n        if (titleElement) {\n            titleElement.textContent = title;\n        }\n    }\n}\n\n// Hebrew modal presets\nclass HebrewModals {\n    static confirm(message, onConfirm, onCancel) {\n        return new Modal({\n            title: 'אישור פעולה',\n            content: `<p>${message}</p>`,\n            size: 'small',\n            actions: [\n                {\n                    text: 'ביטול',\n                    type: 'secondary',\n                    handler: () => {\n                        if (onCancel) onCancel();\n                        return true; // Close modal\n                    }\n                },\n                {\n                    text: 'אישור',\n                    type: 'primary',\n                    handler: () => {\n                        if (onConfirm) onConfirm();\n                        return true; // Close modal\n                    }\n                }\n            ]\n        });\n    }\n\n    static alert(message, title = 'הודעה') {\n        return new Modal({\n            title: title,\n            content: `<p>${message}</p>`,\n            size: 'small',\n            actions: [\n                {\n                    text: 'הבנתי',\n                    type: 'primary'\n                }\n            ]\n        });\n    }\n\n    static error(message, title = 'שגיאה') {\n        return new Modal({\n            title: title,\n            content: `<div style=\"color: var(--error-color); display: flex; align-items: center; gap: var(--spacing-md);\">\n                        <span style=\"font-size: var(--font-size-2xl);\">⚠️</span>\n                        <p>${message}</p>\n                      </div>`,\n            size: 'small',\n            actions: [\n                {\n                    text: 'סגור',\n                    type: 'error'\n                }\n            ]\n        });\n    }\n\n    static success(message, title = 'הצלחה') {\n        return new Modal({\n            title: title,\n            content: `<div style=\"color: var(--success-color); display: flex; align-items: center; gap: var(--spacing-md);\">\n                        <span style=\"font-size: var(--font-size-2xl);\">✅</span>\n                        <p>${message}</p>\n                      </div>`,\n            size: 'small',\n            actions: [\n                {\n                    text: 'סגור',\n                    type: 'success'\n                }\n            ]\n        });\n    }\n\n    static addTransaction() {\n        const form = `\n            <form class=\"modal-form\">\n                <div class=\"form-group\">\n                    <label class=\"form-label\">סכום *</label>\n                    <input type=\"text\" class=\"form-input form-input-currency\" placeholder=\"0.00\" required>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"form-label\">תיאור *</label>\n                    <input type=\"text\" class=\"form-input\" placeholder=\"תיאור העסקה...\" required>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"form-label\">קטגוריה *</label>\n                    <select class=\"form-input\" required>\n                        <option value=\"\">בחר קטגוריה...</option>\n                        <option value=\"food\">מזון ומשקאות</option>\n                        <option value=\"transport\">תחבורה</option>\n                        <option value=\"housing\">דיור</option>\n                        <option value=\"health\">בריאות</option>\n                        <option value=\"education\">חינוך</option>\n                        <option value=\"entertainment\">בילויים</option>\n                    </select>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"form-label\">תאריך</label>\n                    <input type=\"date\" class=\"form-input\" value=\"${new Date().toISOString().split('T')[0]}\">\n                </div>\n            </form>\n        `;\n\n        return new Modal({\n            title: 'הוסף עסקה חדשה',\n            content: form,\n            size: 'medium',\n            actions: [\n                {\n                    text: 'ביטול',\n                    type: 'secondary'\n                },\n                {\n                    text: 'שמור עסקה',\n                    type: 'primary',\n                    handler: (modal) => {\n                        // Validate and save transaction\n                        const form = modal.element.querySelector('.modal-form');\n                        const formData = new FormData(form);\n                        \n                        // Add validation logic here\n                        console.log('Saving transaction:', Object.fromEntries(formData));\n                        \n                        // Show success message\n                        HebrewModals.success('העסקה נשמרה בהצלחה!').open();\n                        \n                        return true; // Close modal\n                    }\n                }\n            ]\n        });\n    }\n\n    static exportData() {\n        const content = `\n            <div class=\"export-options\">\n                <h4>בחר פורמט יצוא:</h4>\n                <div class=\"form-group\">\n                    <label class=\"form-label\">\n                        <input type=\"radio\" name=\"format\" value=\"csv\" checked> CSV (Excel)\n                    </label>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"form-label\">\n                        <input type=\"radio\" name=\"format\" value=\"pdf\"> PDF\n                    </label>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"form-label\">\n                        <input type=\"radio\" name=\"format\" value=\"json\"> JSON\n                    </label>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"form-label\">תקופה:</label>\n                    <select class=\"form-input\">\n                        <option value=\"month\">החודש הנוכחי</option>\n                        <option value=\"quarter\">הרבעון הנוכחי</option>\n                        <option value=\"year\">השנה הנוכחית</option>\n                        <option value=\"all\">כל הנתונים</option>\n                    </select>\n                </div>\n            </div>\n        `;\n\n        return new Modal({\n            title: 'יצא נתונים',\n            content: content,\n            size: 'medium',\n            actions: [\n                {\n                    text: 'ביטול',\n                    type: 'secondary'\n                },\n                {\n                    text: 'יצא',\n                    type: 'primary',\n                    handler: () => {\n                        // Export logic here\n                        console.log('Exporting data...');\n                        HebrewModals.success('הנתונים יוצאו בהצלחה!').open();\n                        return true;\n                    }\n                }\n            ]\n        });\n    }\n}\n\n// Add modal size styles to CSS\nconst modalSizeStyles = `\n.modal-small {\n    max-width: 400px;\n}\n\n.modal-large {\n    max-width: 1000px;\n}\n\n.modal-full {\n    max-width: 95vw;\n    max-height: 95vh;\n}\n\n.modal-form .form-group {\n    margin-bottom: var(--spacing-md);\n}\n\n.export-options .form-group {\n    margin-bottom: var(--spacing-sm);\n}\n\n.export-options h4 {\n    margin-bottom: var(--spacing-md);\n    color: var(--text-primary);\n}\n`;\n\n// Inject modal styles\nif (!document.getElementById('modal-size-styles')) {\n    const style = document.createElement('style');\n    style.id = 'modal-size-styles';\n    style.textContent = modalSizeStyles;\n    document.head.appendChild(style);\n}\n\n// Export for use in other modules\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = { Modal, HebrewModals };\n} else {\n    window.Modal = Modal;\n    window.HebrewModals = HebrewModals;\n}"],"names":["require_Modal_002","__commonJSMin","exports","module","Modal","options","overlay","e","content","header","body","footer","classes","title","closeBtn","action","button","focusable","event","titleElement","HebrewModals","message","onConfirm","onCancel","form","modal","formData","modalSizeStyles","style"],"mappings":"8DAAA,IAAAA,EAAAC,EAAA,CAAAC,EAAAC,IAAA,CACA,MAAMC,CAAM,CACR,YAAYC,EAAU,GAAI,CACtB,KAAK,QAAU,CACX,MAAO,GACP,QAAS,GACT,KAAM,SACN,SAAU,GACV,SAAU,GACV,SAAU,GACV,QAAS,CAAA,EACT,OAAQ,KACR,QAAS,KACT,GAAGA,CACf,EACQ,KAAK,OAAS,GACd,KAAK,QAAU,IACvB,CAEI,QAAS,CACL,GAAI,KAAK,QACL,OAAO,KAAK,QAIhB,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAY,gBACpBA,EAAQ,MAAM,QAAU,OAGpB,KAAK,QAAQ,UACbA,EAAQ,iBAAiB,QAAUC,GAAM,CACjCA,EAAE,SAAWD,GACb,KAAK,MAAK,CAE9B,CAAa,EAIL,MAAME,EAAU,SAAS,cAAc,KAAK,EAI5C,GAHAA,EAAQ,UAAY,KAAK,kBAAiB,EAGtC,KAAK,QAAQ,OAAS,KAAK,QAAQ,SAAU,CAC7C,MAAMC,EAAS,KAAK,aAAY,EAChCD,EAAQ,YAAYC,CAAM,CACtC,CAGQ,MAAMC,EAAO,KAAK,WAAU,EAI5B,GAHAF,EAAQ,YAAYE,CAAI,EAGpB,KAAK,QAAQ,SAAW,KAAK,QAAQ,QAAQ,OAAS,EAAG,CACzD,MAAMC,EAAS,KAAK,aAAY,EAChCH,EAAQ,YAAYG,CAAM,CACtC,CAEQ,OAAAL,EAAQ,YAAYE,CAAO,EAC3B,KAAK,QAAUF,EAGX,KAAK,QAAQ,UACb,SAAS,iBAAiB,UAAW,KAAK,cAAc,KAAK,IAAI,CAAC,EAG/DA,CACf,CAEI,mBAAoB,CAChB,MAAMM,EAAU,CAAC,eAAe,EAEhC,OAAI,KAAK,QAAQ,OAAS,UACtBA,EAAQ,KAAK,SAAS,KAAK,QAAQ,IAAI,EAAE,EAGtCA,EAAQ,KAAK,GAAG,CAC/B,CAEI,cAAe,CACX,MAAMH,EAAS,SAAS,cAAc,KAAK,EAI3C,GAHAA,EAAO,UAAY,eAGf,KAAK,QAAQ,MAAO,CACpB,MAAMI,EAAQ,SAAS,cAAc,IAAI,EACzCA,EAAM,UAAY,cAClBA,EAAM,YAAc,KAAK,QAAQ,MACjCJ,EAAO,YAAYI,CAAK,CACpC,CAGQ,GAAI,KAAK,QAAQ,SAAU,CACvB,MAAMC,EAAW,SAAS,cAAc,QAAQ,EAChDA,EAAS,UAAY,cACrBA,EAAS,UAAY,IACrBA,EAAS,iBAAiB,QAAS,IAAM,KAAK,MAAK,CAAE,EACrDL,EAAO,YAAYK,CAAQ,CACvC,CAEQ,OAAOL,CACf,CAEI,YAAa,CACT,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzC,OAAAA,EAAK,UAAY,aAEb,OAAO,KAAK,QAAQ,SAAY,SAChCA,EAAK,UAAY,KAAK,QAAQ,QACvB,KAAK,QAAQ,mBAAmB,aACvCA,EAAK,YAAY,KAAK,QAAQ,OAAO,EAGlCA,CACf,CAEI,cAAe,CACX,MAAMC,EAAS,SAAS,cAAc,KAAK,EAC3C,OAAAA,EAAO,UAAY,eAEnB,KAAK,QAAQ,QAAQ,QAAQI,GAAU,CACnC,MAAMC,EAAS,KAAK,mBAAmBD,CAAM,EAC7CJ,EAAO,YAAYK,CAAM,CACrC,CAAS,EAEML,CACf,CAEI,mBAAmBI,EAAQ,CACvB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9C,OAAAA,EAAO,UAAY,WAAWD,EAAO,MAAQ,WAAW,GACxDC,EAAO,YAAcD,EAAO,KAExBA,EAAO,WACPC,EAAO,SAAW,IAGtBA,EAAO,iBAAiB,QAAS,IAAM,CAC/BD,EAAO,QACQA,EAAO,QAAQ,IAAI,IAEnB,IACX,KAAK,MAAK,EAEPA,EAAO,QAAU,IACxB,KAAK,MAAK,CAE1B,CAAS,EAEMC,CACf,CAEI,MAAO,CACC,KAAK,SAGJ,KAAK,UACN,KAAK,OAAM,EACX,SAAS,KAAK,YAAY,KAAK,OAAO,GAI1C,KAAK,QAAQ,MAAM,QAAU,OAC7B,KAAK,OAAS,GAGd,SAAS,KAAK,MAAM,SAAW,SAG3B,KAAK,QAAQ,QACb,KAAK,QAAQ,OAAO,IAAI,EAI5B,WAAW,IAAM,CACb,MAAMC,EAAY,KAAK,QAAQ,cAAc,kEAAkE,EAC3GA,GACAA,EAAU,MAAK,CAE/B,EAAW,GAAG,EACd,CAEI,OAAQ,CACC,KAAK,SAGV,KAAK,QAAQ,MAAM,QAAU,OAC7B,KAAK,OAAS,GAGd,SAAS,KAAK,MAAM,SAAW,GAG3B,KAAK,QAAQ,SACb,KAAK,QAAQ,QAAQ,IAAI,EAErC,CAEI,SAAU,CACN,KAAK,MAAK,EACN,KAAK,SAAW,KAAK,QAAQ,YAC7B,KAAK,QAAQ,WAAW,YAAY,KAAK,OAAO,EAEpD,KAAK,QAAU,IACvB,CAEI,cAAcC,EAAO,CACbA,EAAM,MAAQ,UAAY,KAAK,QAC/B,KAAK,MAAK,CAEtB,CAEI,WAAWV,EAAS,CAChB,GAAI,CAAC,KAAK,QAAS,OAEnB,MAAME,EAAO,KAAK,QAAQ,cAAc,aAAa,EACjDA,IACI,OAAOF,GAAY,SACnBE,EAAK,UAAYF,EACVA,aAAmB,cAC1BE,EAAK,UAAY,GACjBA,EAAK,YAAYF,CAAO,GAGxC,CAEI,SAASK,EAAO,CACZ,GAAI,CAAC,KAAK,QAAS,OAEnB,MAAMM,EAAe,KAAK,QAAQ,cAAc,cAAc,EAC1DA,IACAA,EAAa,YAAcN,EAEvC,CACA,CAGA,MAAMO,CAAa,CACf,OAAO,QAAQC,EAASC,EAAWC,EAAU,CACzC,OAAO,IAAInB,EAAM,CACb,MAAO,cACP,QAAS,MAAMiB,CAAO,OACtB,KAAM,QACN,QAAS,CACL,CACI,KAAM,QACN,KAAM,YACN,QAAS,KACDE,GAAUA,EAAQ,EACf,GAE/B,EACgB,CACI,KAAM,QACN,KAAM,UACN,QAAS,KACDD,GAAWA,EAAS,EACjB,GAE/B,CACA,CACA,CAAS,CACT,CAEI,OAAO,MAAMD,EAASR,EAAQ,QAAS,CACnC,OAAO,IAAIT,EAAM,CACb,MAAOS,EACP,QAAS,MAAMQ,CAAO,OACtB,KAAM,QACN,QAAS,CACL,CACI,KAAM,QACN,KAAM,SAC1B,CACA,CACA,CAAS,CACT,CAEI,OAAO,MAAMA,EAASR,EAAQ,QAAS,CACnC,OAAO,IAAIT,EAAM,CACb,MAAOS,EACP,QAAS;AAAA;AAAA,6BAEQQ,CAAO;AAAA,8BAExB,KAAM,QACN,QAAS,CACL,CACI,KAAM,OACN,KAAM,OAC1B,CACA,CACA,CAAS,CACT,CAEI,OAAO,QAAQA,EAASR,EAAQ,QAAS,CACrC,OAAO,IAAIT,EAAM,CACb,MAAOS,EACP,QAAS;AAAA;AAAA,6BAEQQ,CAAO;AAAA,8BAExB,KAAM,QACN,QAAS,CACL,CACI,KAAM,OACN,KAAM,SAC1B,CACA,CACA,CAAS,CACT,CAEI,OAAO,gBAAiB,CACpB,MAAMG,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mEAwB8C,IAAI,KAAI,EAAG,YAAW,EAAG,MAAM,GAAG,EAAE,CAAC,CAAC;AAAA;AAAA;AAAA,UAKjG,OAAO,IAAIpB,EAAM,CACb,MAAO,iBACP,QAASoB,EACT,KAAM,SACN,QAAS,CACL,CACI,KAAM,QACN,KAAM,WAC1B,EACgB,CACI,KAAM,YACN,KAAM,UACN,QAAUC,GAAU,CAEhB,MAAMD,EAAOC,EAAM,QAAQ,cAAc,aAAa,EAChDC,EAAW,IAAI,SAASF,CAAI,EAGlC,eAAQ,IAAI,sBAAuB,OAAO,YAAYE,CAAQ,CAAC,EAG/DN,EAAa,QAAQ,qBAAqB,EAAE,KAAI,EAEzC,EAC/B,CACA,CACA,CACA,CAAS,CACT,CAEI,OAAO,YAAa,CAChB,MAAMZ,EAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UA8BhB,OAAO,IAAIJ,EAAM,CACb,MAAO,aACP,QAASI,EACT,KAAM,SACN,QAAS,CACL,CACI,KAAM,QACN,KAAM,WAC1B,EACgB,CACI,KAAM,MACN,KAAM,UACN,QAAS,KAEL,QAAQ,IAAI,mBAAmB,EAC/BY,EAAa,QAAQ,uBAAuB,EAAE,KAAI,EAC3C,GAE/B,CACA,CACA,CAAS,CACT,CACA,CAGA,MAAMO,EAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA6BxB,GAAI,CAAC,SAAS,eAAe,mBAAmB,EAAG,CAC/C,MAAMC,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,GAAK,oBACXA,EAAM,YAAcD,EACpB,SAAS,KAAK,YAAYC,CAAK,CACnC,CAGI,OAAOzB,EAAW,KAAeA,EAAO,QACxCA,EAAO,QAAU,CAAE,MAAAC,EAAO,aAAAgB,CAAY,GAEtC,OAAO,MAAQhB,EACf,OAAO,aAAegB"}