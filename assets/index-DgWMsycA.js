(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();console.log("🏦 Israeli Finance Dashboard - Starting up...");document.addEventListener("DOMContentLoaded",()=>{c()});async function c(){await d(),setTimeout(()=>{const e=document.getElementById("loading"),o=document.getElementById("app");e&&(e.style.display="none"),o&&(o.style.display="block"),console.log("✅ App initialized successfully")},1e3),i(),p(),y(),u(),T()}async function d(){const e=["./src/utils/israeli-salary-calculator.js","./src/utils/hebrew-financial-terms.js","./src/utils/israeli-financial-tips.js","./src/components/ThemeToggle.js","./src/components/TransactionForm.js","./src/components/CategoryManager.js","./src/components/index.js","./src/data/index.js"],o=["./src/utils/israeli-formatting.js","./src/components/Button.js","./src/components/Input.js","./src/components/Navigation.js","./src/components/Modal.js","./src/components/Toast.js","./src/components/Dashboard.js","./src/components/TransactionList.js","./src/components/Charts.js"];try{for(const t of e)try{const n=await import(t);console.log(`📦 ES6 Module loaded: ${t}`),n.DataAPI&&(window.DataAPI=n.DataAPI,console.log("💾 DataAPI available globally")),n.DataManager&&(window.DataManager=n.DataManager,console.log("💾 DataManager available globally")),n.IsraeliSalaryCalculator&&(window.IsraeliSalaryCalculator=n.IsraeliSalaryCalculator),n.HEBREW_FINANCIAL_TERMS&&(window.HEBREW_FINANCIAL_TERMS=n.HEBREW_FINANCIAL_TERMS),n.ISRAELI_FINANCIAL_TIPS&&(window.ISRAELI_FINANCIAL_TIPS=n.ISRAELI_FINANCIAL_TIPS),n.ThemeToggle&&(window.ThemeToggle=n.ThemeToggle),n.TransactionForm&&(window.TransactionForm=n.TransactionForm),n.CategoryManager&&(window.CategoryManager=n.CategoryManager),n.ComponentUtils&&(window.ComponentUtils=n.ComponentUtils)}catch(n){console.error(`❌ Error loading ES6 module ${t}:`,n),(t.includes("TransactionForm")||t.includes("DataAPI"))&&console.warn(`⚠️ Critical component ${t} failed to load - some features may be unavailable`)}for(const t of o)await m(t);console.log("📦 Hebrew UI Components loaded successfully"),console.log("💾 Data Management System loaded successfully");const a=["Button","Toast","Modal","DataAPI"].filter(t=>!window[t]);a.length>0&&console.warn("⚠️ Some critical components are missing:",a)}catch(s){console.error("❌ Error loading components:",s),typeof HebrewToasts<"u"?HebrewToasts.error("שגיאה בטעינת רכיבי ממשק המשתמש"):(console.error("Toast system not available - using basic alert"),alert("שגיאה בטעינת רכיבי ממשק המשתמש - חלק מהפונקציות עלולות להיות לא זמינות"))}}function m(e){return new Promise((o,s)=>{const a=document.createElement("script");a.src=e,a.onload=()=>{console.log(`📦 Script loaded: ${e}`),o()},a.onerror=t=>{console.error(`❌ Failed to load script: ${e}`,t),(e.includes("Button")||e.includes("Toast")||e.includes("Modal"))&&console.warn(`⚠️ Critical UI component ${e} failed to load - some UI features may be unavailable`),o()},document.head.appendChild(a)})}function i(){window.startApp=function(){console.log("🚀 Starting main application..."),window.ComponentUtils?l():HebrewToasts!=null&&HebrewToasts.info("מערכת הרכיבים עדיין נטענת...")||alert("ברוכים הבאים! המערכת תהיה זמינה בקרוב.")},document.querySelectorAll(".nav a").forEach(e=>{e.addEventListener("click",o=>{o.preventDefault();const s=o.target.getAttribute("href").substring(1);console.log(`Navigating to: ${s}`),window.HebrewToasts&&HebrewToasts.info(`ניווט אל: ${g(s)}`)})})}function g(e){return{dashboard:"לוח בקרה",transactions:"עסקאות",budget:"תקציב",reports:"דוחות",settings:"הגדרות"}[e]||e}function l(){const e=ComponentUtils.createDemo(),o=document.querySelector(".main");if(o){const s=o.innerHTML,a=new Button({type:"secondary",icon:"←"}).render("חזור לדף הבית",()=>{o.innerHTML=s,i(),HebrewToasts.info("חזרת לדף הבית")});e.insertBefore(a,e.firstChild),o.innerHTML="",o.appendChild(e),HebrewToasts.success("ברוכים הבאים למערכת הרכיבים החדשה!","מערכת רכיבים")}}function u(){typeof HebrewNavigation<"u"&&(console.log("🎨 UI Components ready"),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&f(),w(),setTimeout(()=>{window.HebrewToasts&&HebrewToasts.info("מערכת הרכיבים הישראלית מוכנה לשימוש!","מוכן")},2e3))}function f(){const e=document.querySelector(".header-content");if(e&&window.Button){const o=new Button({type:"ghost",size:"small",icon:"🎨"}).render("רכיבים",l);o.style.marginLeft="var(--spacing-md)",e.appendChild(o)}}function w(){document.addEventListener("keydown",e=>{(e.ctrlKey||e.metaKey)&&e.key==="k"&&(e.preventDefault(),window.HebrewModals&&HebrewModals.addTransaction().open()),e.key==="Escape"&&window.HebrewToasts&&HebrewToasts.clearAll(),e.altKey&&e.key==="n"&&(e.preventDefault(),window.HebrewToasts&&HebrewToasts.info("קיצור מקלדת: Alt+N להוספת עסקה חדשה"))})}function p(){if(console.log("🔤 Enhanced Hebrew formatting initialized"),window.israeliFormatter){console.log("✅ Israeli Formatter loaded successfully"),console.log("Currency test (basic):",formatCurrency(1234.56)),console.log("Currency test (compact):",formatCurrency(15e5,{compact:!0})),console.log("Currency test (no symbol):",formatCurrency(999.99,{showSymbol:!1})),console.log("Number test (basic):",formatNumber(1234567)),console.log("Number test (compact):",formatNumber(25e5,{compact:!0})),console.log("Date test (medium):",formatDate(new Date)),console.log("Date test (long):",formatDate(new Date,{style:"long"})),console.log("Tax year test:",formatTaxYear()),console.log("Phone test:",formatPhoneNumber("0523456789")),console.log("ID test:",formatIsraeliId("123456789")),console.log("Percentage test:",formatPercentage(15.5));const e=getTaxYearPeriod();if(console.log("📅 Current tax year:",e.label),console.log("📅 Tax year period:",formatDate(e.start)+" - "+formatDate(e.end)),window.salaryCalculator){console.log("💰 Testing Israeli Salary Calculator...");const o=calculateMonthlySalary(15e3,{children:2});console.log("💼 Salary test (₪15,000 gross, 2 children):"),console.log("  📊 Net salary:",formatCurrency(o.net)),console.log("  🏛️ Total taxes:",formatCurrency(o.totalTaxes)),console.log("  📈 Effective rate:",o.effectiveTaxRate.toFixed(1)+"%")}if(window.hebrewTerms&&(console.log("🔤 Testing Hebrew Financial Terms..."),console.log("💰 Income:",getTerm("income")),console.log("💸 Expense:",getTerm("expense")),console.log("🏦 Bank:",getTerm("bank")),console.log("📊 Budget:",getTerm("budget")),console.log("✅ Success phrase:",getSuccess("saved"))),window.financialTips){console.log("💡 Testing Israeli Financial Tips...");const o=getTipOfTheDay();console.log("📅 Tip of the day:",o.title),console.log("🎯 High priority tips:",getHighPriorityTips().length,"available");const s=getTipsByCategory("taxes");console.log("🏛️ Tax tips:",s.length,"available")}}else console.warn("⚠️ Israeli Formatter not loaded - using basic formatting"),window.formatCurrency=function(e){return new Intl.NumberFormat("he-IL",{style:"currency",currency:"ILS",currencyDisplay:"symbol"}).format(e)},window.formatNumber=function(e){return new Intl.NumberFormat("he-IL").format(e)},window.formatDate=function(e){return new Intl.DateTimeFormat("he-IL",{year:"numeric",month:"long",day:"numeric"}).format(e)},console.log("Currency test:",formatCurrency(1234.56)),console.log("Number test:",formatNumber(1234567)),console.log("Date test:",formatDate(new Date))}async function y(){if(window.DataAPI)try{const e=DataAPI.system.getStatus(),o=DataAPI.system.getStats();console.log("📊 Data System Status:",e),console.log("📈 Data Stats:",o),o.transactions>0||o.categories>0?(console.log(`💰 Found ${o.transactions} transactions, ${o.categories} categories`),setTimeout(()=>{window.HebrewToasts&&HebrewToasts.info(`ברוך שובך! יש לך ${o.transactions} עסקאות ו-${o.categories} קטגוריות`,"נתונים קיימים")},3e3)):(console.log("🆕 New user - initializing default data"),setTimeout(()=>{window.HebrewToasts&&HebrewToasts.success("ברוכים הבאים! המערכת מוכנה לשימוש עם קטגוריות ישראליות","משתמש חדש")},3e3))}catch(e){console.error("Error checking data:",e)}else console.log("⏳ DataAPI not loaded yet - will check data later")}function T(){if(typeof ThemeToggle<"u"){console.log("🎨 Initializing theme system...");const e=new ThemeToggle({showLabel:!0,position:"top-right"}),o=document.querySelector(".header-content");if(o){const a=document.createElement("div");a.className="theme-toggle-container",a.style.marginLeft="var(--spacing-md)",a.innerHTML=e.getHTML(),o.appendChild(a);const t=a.querySelector(".theme-toggle");t&&t.addEventListener("click",()=>{e.toggleTheme()})}else document.body.appendChild(e.render()),e.toggleButton.classList.add("theme-toggle-fixed","theme-toggle-top-right");document.addEventListener("themeChanged",a=>{if(console.log("🌓 Theme changed to:",a.detail.theme),window.HebrewToasts){const t=a.detail.theme==="dark"?"עברת למצב לילה":"עברת למצב יום";HebrewToasts.info(t,"שינוי נושא")}});const s=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",s),console.log("✅ Theme system initialized")}else console.warn("⚠️ ThemeToggle component not loaded")}window.addEventListener("error",e=>{console.error("Application error:",e.error)});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});console.log("🏁 Main.js loaded successfully");
//# sourceMappingURL=index-DgWMsycA.js.map
